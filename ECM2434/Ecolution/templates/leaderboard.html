{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="flex justify-center items-center min-h-screen bg-green-100">
    <div class="w-full max-w-md p-4">
        <!-- Leaderboard Card -->
        <div class="bg-white rounded-2xl shadow-lg p-6">
            <h2 class="text-2xl font-bold text-center">Leaderboard</h2>

            <!-- Top 3 Players -->
            <div class="relative bg-green-300 rounded-xl p-4 mt-4 flex flex-col items-center">
                <div class="flex justify-center gap-4">
                    <!-- 2nd Place -->
                    <div class="text-center">
                        <div class="bg-white p-3 rounded-full shadow-lg border-2 border-blue-500">
                            <img src="{% static 'images/pet.png' %}" alt="Pet" class="w-14 h-14">
                        </div>
                        <p class="text-blue-500 font-bold">2</p>
                        <p class="text-gray-700">1847</p>
                    </div>

                    <!-- 1st Place (Highest-Level Pet) -->
                    <div class="text-center">
                        <div class="bg-white p-3 rounded-full shadow-lg border-2 border-yellow-500 relative">
                            <img src="{% if top_pet %}{% static 'images/pets/'|add:top_pet.pet_type|add:'.png' %}{% else %}{% static 'images/default_pet.png' %}{% endif %}" alt="Pet" class="w-16 h-16">
                            <span class="absolute -top-4 left-1/2 transform -translate-x-1/2 text-yellow-500 text-2xl">ðŸ‘‘</span>
                        </div>
                        <p class="text-yellow-500 font-bold">1</p>
                        <p class="text-gray-700">2430</p>
                    </div>

                    <!-- 3rd Place -->
                    <div class="text-center">
                        <div class="bg-white p-3 rounded-full shadow-lg border-2 border-green-500">
                            <img src="{% static 'images/pet.png' %}" alt="Pet" class="w-14 h-14">
                        </div>
                        <p class="text-green-500 font-bold">3</p>
                        <p class="text-gray-700">1674</p>
                    </div>
                </div>
            </div>

            <!-- Remaining Leaderboard Entries -->
            <div class="bg-green-200 rounded-xl p-4 mt-4">
                {% for entry in leaderboard_entries %}
                <div class="flex justify-between items-center bg-white p-3 rounded-lg shadow my-2">
                    <div class="flex items-center gap-3">
                        <img src="{% static 'images/pets/'|add:entry.pet_set.first.pet_type|add:'.png' %}" alt="Pet" class="w-10 h-10">
                        <p class="text-gray-800 font-semibold">@{{ entry.username }}</p>
                    </div>
                    <p class="text-gray-700 font-bold">{{ entry.points }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
